(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,t,n){e.exports=n.p+"static/media/wave1.e5159ca0.svg"},163:function(e,t,n){e.exports=n.p+"static/media/wave2.159bd372.svg"},164:function(e,t,n){e.exports=n.p+"static/media/wave3.d2efb56f.svg"},165:function(e,t,n){e.exports=n.p+"static/media/wave4.d52d33b2.svg"},166:function(e,t,n){e.exports=n.p+"static/media/wave5.4354a0f7.svg"},174:function(e,t,n){e.exports=n(241)},241:function(e,t,n){"use strict";n.r(t);var a,r,o=n(0),l=n.n(o),i=n(158),c=n.n(i),u=n(7),s="https://anass23.pythonanywhere.com/",m=n(46),d=n(3),p=n(260),g=n(253),f=n(263),h=n(171),E=function(e){var t=e.user,n=e.admin;return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{collapseOnSelect:!0,expand:"xl",className:"mb-0",bg:"dark",variant:"dark"},l.a.createElement(g.a,null,l.a.createElement(p.a.Brand,{href:"#"},"TechLab UPC"),l.a.createElement(p.a.Toggle,{"aria-controls":"navbarScroll"}),l.a.createElement(p.a.Collapse,{id:"navbarScroll"},l.a.createElement(f.a,{fill:!0,className:"justify-content-end flex-grow-1 pe-3"},l.a.createElement(f.a.Link,{eventKey:"1",as:m.b,to:"/"},"Home"),l.a.createElement(f.a.Link,{eventKey:"2",as:m.b,to:"/maquines"},"M\xe0quines"),t&&l.a.createElement(f.a.Link,{eventKey:"3",as:m.b,to:"/reserves"},"Reserves"),n&&l.a.createElement(f.a.Link,{eventKey:"4",as:m.b,to:"/admin"},"Administrador"),l.a.createElement(f.a.Link,{eventKey:"5",as:m.b,to:"/perfil"},l.a.createElement(h.a,{size:24,color:"white",opacity:.6})))))),l.a.createElement(d.a,null))},b=n(23),v=n(24),y=n(159),x=n.n(y);function O(){return l.a.createElement(S,null)}var w,j,k=Object(v.b)(a||(a=Object(b.a)(["\n  0% {\n  transform: translateY(0px);\n  }\n  100% {\n  transform: translateY(50px);\n  }\n"]))),S=v.a.div(r||(r=Object(b.a)(["\n  position: absolute;\n  width: 100%;\n  background-size: 100%;\n  z-index: -1;\n  top: 120px;\n  background-image: url(",");\n  height: 1100px;\n  animation-duration: 6s;\n  animation-timing-function: ease;\n  animation-delay: 0.1s;\n  animation-iteration-count: 1;\n  animation-direction: normal;\n  animation-fill-mode: forwards;\n  animation-play-state: running;\n  animation-name: ",";\n\n  @media (max-width: 1440px) {\n    background-size: 1440px;\n  }\n"])),x.a,k),_=n(163),I=n.n(_);function C(){return l.a.createElement(A,null)}var R,L,N=Object(v.b)(w||(w=Object(b.a)(["\n  0% {\n  transform: translateY(0px);\n  }\n  100% {\n  transform: translateY(50px);\n  }\n"]))),A=v.a.div(j||(j=Object(b.a)(["\n  position: absolute;\n  width: 100%;\n  background-size: 100%;\n  z-index: -1;\n  top: 300px;\n  background-image: url(",");\n  height: 1100px;\n  animation-duration: 7s;\n  animation-timing-function: ease;\n  animation-delay: 0.2s;\n  animation-iteration-count: 1;\n  animation-direction: normal;\n  animation-fill-mode: forwards;\n  animation-play-state: running;\n  animation-name: ",";\n\n  @media (max-width: 1440px) {\n    background-size: 1440px;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    opacity: 0.1;\n  }\n"])),I.a,N),T=n(164),z=n.n(T);function q(){return l.a.createElement(B,null)}var D,P,F=Object(v.b)(R||(R=Object(b.a)(["\n  0% {\n  transform: translateY(0px);\n  }\n  100% {\n  transform: translateY(50px);\n  }\n"]))),B=v.a.div(L||(L=Object(b.a)(["\n  position: absolute;\n  width: 100%;\n  background-size: 100%;\n  z-index: -1;\n  top: 180px;\n  background-image: url(",");\n  height: 1100px;\n  animation-duration: 8s;\n  animation-timing-function: ease;\n  animation-delay: 0.3s;\n  animation-iteration-count: 1;\n  animation-direction: normal;\n  animation-fill-mode: forwards;\n  animation-play-state: running;\n  animation-name: ",";\n\n  @media (max-width: 1440px) {\n    background-size: 1440px;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    filter: hue-rotate(150deg);\n    opacity: 0.6;\n  }\n"])),z.a,F),H=n(165),U=n.n(H);function Y(){return l.a.createElement(V,null)}var K,M,G=Object(v.b)(D||(D=Object(b.a)(["\n  0% {\n  transform: translateY(0px);\n  }\n  100% {\n  transform: translateY(50px);\n  }\n"]))),V=v.a.div(P||(P=Object(b.a)(["\n  position: absolute;\n  width: 100%;\n  background-position-x: center;\n  background-position-y: top;\n  background-size: 100%;\n  z-index: -1;\n  top: 141px;\n  background-image: url(",");\n  height: 1100px;\n  animation-duration: 9s;\n  animation-timing-function: ease;\n  animation-delay: 0.4s;\n  animation-iteration-count: 1;\n  animation-direction: normal;\n  animation-fill-mode: forwards;\n  animation-play-state: running;\n  animation-name: ",";\n\n  @media (max-width: 1440px) {\n    background-size: 1440px;\n  }\n"])),U.a,G),X=n(166),W=n.n(X);function $(){return l.a.createElement(ee,null)}var J,Q,Z=Object(v.b)(K||(K=Object(b.a)(["\n  0% {\n  transform: translateY(0px);\n  }\n  100% {\n  transform: translateY(50px);\n  }\n"]))),ee=v.a.div(M||(M=Object(b.a)(["\n  position: absolute;\n  width: 100%;\n  background-size: 100%;\n  z-index: -1;\n  top: 400px;\n  background-image: url(",");\n  height: 900px;\n  animation-duration: 10s;\n  animation-timing-function: ease;\n  animation-delay: 0.5s;\n  animation-iteration-count: 1;\n  animation-direction: normal;\n  animation-fill-mode: forwards;\n  animation-play-state: running;\n  animation-name: ",";\n\n  @media (max-width: 1440px) {\n    background-size: 1440px;\n  }\n"])),W.a,Z);function te(){return l.a.createElement(ne,null,l.a.createElement(ae,null),l.a.createElement(O,null),l.a.createElement(C,null),l.a.createElement(q,null),l.a.createElement(Y,null),l.a.createElement($,null))}var ne=v.a.div(J||(J=Object(b.a)(["\n  position: absolute;\n  height: 1300px;\n  width: 100%;\n  overflow: hidden;\n  margin: 0px;\n  padding: 0px;\n"]))),ae=v.a.div(Q||(Q=Object(b.a)(["\n  position: absolute;\n  z-index: -1;\n  top: 0px;\n  width: 100%;\n  height: 1200px;\n\n  background-image: linear-gradient(\n    222.77deg,\n    rgb(12, 106, 188) 29.03%,\n    rgb(47, 176, 217) 56.14%\n  );\n\n  @media (prefers-color-scheme: dark) {\n    background-image: linear-gradient(\n      rgb(36, 36, 82) 0%,\n      rgb(73, 38, 173) 100%\n    );\n  }\n"]))),re=function(){return l.a.createElement(te,null)},oe=n(262),le=n(114),ie=n(76),ce=n(20);function ue(){ue=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(I){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof d?t:d,l=Object.create(o.prototype),i=new k(r||[]);return a(l,"_invoke",{value:x(e,n,i)}),l}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var m={};function d(){}function p(){}function g(){}var f={};c(f,o,function(){return this});var h=Object.getPrototypeOf,E=h&&h(h(S([])));E&&E!==t&&n.call(E,o)&&(f=E);var b=g.prototype=d.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function y(e,t){var r;a(this,"_invoke",{value:function(a,o){function l(){return new t(function(r,l){!function a(r,o,l,i){var c=s(e[r],e,o);if("throw"!==c.type){var u=c.arg,m=u.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){a("next",e,l,i)},function(e){a("throw",e,l,i)}):t.resolve(m).then(function(e){u.value=e,l(u)},function(e){return a("throw",e,l,i)})}i(c.arg)}(a,o,r,l)})}return r=r?r.then(l,l):l()}})}function x(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return _()}for(n.method=r,n.arg=o;;){var l=n.delegate;if(l){var i=O(l,n);if(i){if(i===m)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=s(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function O(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=g,a(b,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:p,configurable:!0}),p.displayName=c(g,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(y.prototype),c(y.prototype,l,function(){return this}),e.AsyncIterator=y,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var l=new y(u(t,n,a,r),o);return e.isGeneratorFunction(n)?l:l.next().then(function(e){return e.done?e.value:l.next()})},v(b),c(b,i,"Generator"),c(b,o,function(){return this}),c(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return l.type="throw",l.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=e,l.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;j(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}var se,me=n(193),de=n(259),pe=function(e){var t=e.handleSetUser,n=e.handleSetToken,a="455738767873-gvb4qamkrjv3bqf91odopf7ft0c0tcvp.apps.googleusercontent.com";Object(o.useEffect)(function(){ie.a.load("client:auth2",function(){ie.a.auth2.init({clientId:a})})},[]);return l.a.createElement(le.GoogleLogin,{clientId:a,buttonText:"Login",onSuccess:function(e){console.log("[Login OK]"),console.log(e.profileObj);var a={id_usr:e.profileObj.googleId,email:e.profileObj.email,nom:e.profileObj.givenName,cognom:e.profileObj.familyName};de.a.post(s+"/usr/",a,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json;"}}).then(function(a){console.log("RESPONSE RECEIVED: ",a),t(e.profileObj),sessionStorage.setItem("token_type",e.tokenObj.token_type),sessionStorage.setItem("access_token",e.tokenObj.access_token),sessionStorage.setItem("id_token",e.tokenObj.id_token),function(e){var t=e.res,n=1e3*(t.tokenObj.expires_in||3300),a=function(){var e=Object(ce.a)(ue().mark(function e(){var r;return ue().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.reloadAuthResponse();case 2:r=e.sent,console.log(r),n=1e3*(r.expires_in||3300),sessionStorage.removeItem("token_type"),sessionStorage.removeItem("access_token"),sessionStorage.removeItem("id_token"),sessionStorage.setItem("token_type",t.tokenObj.token_type),sessionStorage.setItem("access_token",t.tokenObj.access_token),sessionStorage.setItem("id_token",t.tokenObj.id_token),setTimeout(a,n);case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();setTimeout(a,n)}({res:e,handleSetToken:n})}).catch(function(e){console.log("AXIOS ERROR: ",e)})},onFailure:function(e){console.log("[Login ERROR]:",e)},cookiePolicy:"single_host_origin",style:{marginTop:"100px"},isSignedIn:!0,render:function(e){return l.a.createElement(me.a,{onClick:e.onClick,disabled:e.disabled,variant:"primary",className:"rounded-pill w-100"},"Accedir")}})},ge=function(e){var t=e.handleSetUser,n=e.handleSetAdmin,a=e.handleSetAuth,r="455738767873-gvb4qamkrjv3bqf91odopf7ft0c0tcvp.apps.googleusercontent.com";Object(o.useEffect)(function(){ie.a.load("client:auth2",function(){ie.a.auth2.init({clientId:r})})},[]);return l.a.createElement(le.GoogleLogout,{clientId:r,buttonText:"LogOut",onLogoutSuccess:function(){console.log("[LogOut done]"),t(null),n(!1),a(null)},style:{width:"100%"}})},fe=function(e){var t=e.user,n=e.handleSetUser,a=e.handleSetAdmin,r=e.handleSetAuth,o=Object(d.m)();return t?l.a.createElement("div",null,l.a.createElement(te,null),l.a.createElement("div",{className:"modal show",style:{display:"block",position:"initial"}},l.a.createElement(oe.a.Dialog,{className:"bg-dark"},l.a.createElement(oe.a.Header,null,l.a.createElement(oe.a.Title,null,t.name)),l.a.createElement(oe.a.Body,null,l.a.createElement("img",{src:t.imageUrl,style:{borderRadius:"50%"},alt:"Imatge perfil",referrerPolicy:"no-referrer"})),l.a.createElement(oe.a.Footer,null,l.a.createElement(ge,{handleSetUser:n,handleSetAdmin:a,handleSetAuth:r}))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(oe.a,{show:!0,onHide:function(){return o("/")},centered:!0},l.a.createElement(oe.a.Header,{closeButton:!0},l.a.createElement(oe.a.Title,null,"Acc\xe9s")),l.a.createElement(oe.a.Body,null,"Accedint al teu compte podr\xe0s gestionar les teves reserves!"),l.a.createElement(oe.a.Footer,null,l.a.createElement(pe,{handleSetUser:n}))),l.a.createElement(te,null))},he=n(28),Ee=n(254),be=n(194),ve=n(264),ye=n(169),xe=n.n(ye),Oe=n(78),we=v.a.div(se||(se=Object(b.a)(["\n  display: grid;\n  width: 400px;\n  height: auto;\n  margin: 10px 0px 0px 0px;\n  text-align: center;\n  grid-template-rows: 50px 50px 50px 50px;\n  grid-template-columns: 100px 100px 100px 100px;\n  grid-gap: 20px;\n"]))),je=function(e){var t=e.user,n=e.auth,a=Object(o.useState)({}),r=Object(u.a)(a,2),i=r[0],c=r[1],m=Object(o.useState)([]),p=Object(u.a)(m,2),g=p[0],f=p[1],h=Object(o.useState)({id:"",nom:""}),E=Object(u.a)(h,2),b=E[0],v=E[1],y=Object(o.useState)([]),x=Object(u.a)(y,2),O=x[0],w=x[1],j=Object(o.useState)(!1),k=Object(u.a)(j,2),S=k[0],_=k[1],I=l.a.useState(new Date),C=Object(u.a)(I,2),R=C[0],L=C[1],N=Object(o.useState)([]),A=Object(u.a)(N,2),T=A[0],z=A[1];Object(o.useEffect)(function(){de.a.get(s+"/uni/").then(function(e){console.log(e),f(e.data)}).catch(function(e){console.log(e)})},[]),Object(o.useEffect)(function(){de.a.get(s+"/maq/?id_uni=".concat(i,"&auth=").concat(n)).then(function(e){console.log(e),w(e.data)}).catch(function(e){console.log(e)})},[i]),Object(o.useEffect)(function(){var e=sessionStorage.getItem("id_token");de.a.get(s+"/res/?id_maq=".concat(b.id,"&dia=").concat(R.getFullYear(),"-").concat(R.getMonth()+1,"-").concat(R.getDate(),"&id_usr=").concat(t?t.googleId:null,"&id_token=").concat(e)).then(function(e){console.log(e),z(e.data)}).catch(function(e){console.log(e)})},[R,b]);var q=Object(d.m)();return l.a.createElement("div",{style:{margin:"0px"}},l.a.createElement("div",{style:{margin:"20px"}},l.a.createElement("div",null,l.a.createElement(Ee.a,{xs:1,md:3,className:"g-4"},g.map(function(e,t){return l.a.createElement(be.a,null,l.a.createElement(ve.a,null,l.a.createElement(ve.a.Body,null,l.a.createElement(ve.a.Title,null,e.nom),l.a.createElement(ve.a.Text,null,e.info),l.a.createElement(me.a,{value:e.id,variant:"primary",onClick:function(e){console.log("Clicat: ",e.target.value),c(e.target.value)}},"Buscar"))))}))),l.a.createElement("div",{style:{margin:"20px",display:"flex",justifyContent:"space-around",alignItems:"center"}},l.a.createElement(Ee.a,{xs:1,md:4,className:"g-4"},O.map(function(e,n){return l.a.createElement(be.a,null,l.a.createElement(ve.a,{style:{width:"100%"}},l.a.createElement(ve.a.Body,{style:{alignItems:"center"}},l.a.createElement(ve.a.Img,{style:{maxWidth:"250px"},variant:"top",src:e.image_url,referrerPolicy:"no-referrer"}),l.a.createElement(ve.a.Title,null,e.nom),l.a.createElement(ve.a.Text,null,e.id_lab),l.a.createElement(me.a,{className:"rounded-pill w-100",variant:"primary",id:e.id,value:e.nom,onClick:function(e){return n=e.target,console.log(t),void(t?(_(!0),v({id:n.id,nom:n.value}),console.log("Maq :",n,n.id,n.value)):q("/perfil"));var n}},"Reservar"))))})),S&&l.a.createElement(oe.a,{show:!0,onHide:function(){_(!1)},centered:!0},l.a.createElement(oe.a.Header,{closeButton:!0},l.a.createElement(oe.a.Title,null," ",b.nom)),l.a.createElement(oe.a.Body,null,l.a.createElement(xe.a,{wrapperClassName:"DatePicker",selected:R,minDate:new Date,maxDate:Object(Oe.default)(new Date,2),onChange:function(e){console.log(e),L(e)},dateFormat:"MMMM d, yyyy"}),l.a.createElement(we,null,T.map(function(e,t){return l.a.createElement(me.a,{id:e.hora,variant:e.ocupada?"primary":"outline-primary",className:"w-100",onClick:function(){return function(e){var t=Object(he.a)(T);t[e].ocupada=!t[e].ocupada,z(t)}(t)}},e.hora)}))),l.a.createElement(oe.a.Footer,null,l.a.createElement(me.a,{className:"rounded-pill w-100",variant:"primary",onClick:function(){var e=sessionStorage.getItem("token_type"),n=sessionStorage.getItem("access_token"),a=sessionStorage.getItem("id_token");console.log("Usuari: ",t),console.log("Token_Type: ",e),console.log("Access_Token: ",n),console.log("Hores: ",T);var r={headers:{Authorization:"".concat(e," ").concat(n)}},o={id_maq:b.id,id_usr:t.googleId,dia:"".concat(R.getFullYear(),"-").concat(R.getMonth()+1,"-").concat(R.getDate()),hores:T,id_token:a};de.a.post(s+"/res/",o,r).then(function(e){console.log("RESPONSE RECEIVED: ",e),_(!1),alert("".concat(b.nom," reservada"))}).catch(function(e){console.log("AXIOS ERROR: ",e)})}},"Reservar"))))))},ke=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"404"))},Se=n(255),_e=n(261),Ie=function(e){var t=e.user,n=Object(o.useState)([]),a=Object(u.a)(n,2),r=a[0],i=a[1],c=Object(o.useState)(!1),m=Object(u.a)(c,2),p=m[0],f=m[1],h=Object(o.useState)(null),E=Object(u.a)(h,2),b=E[0],v=E[1],y=Object(d.m)();Object(o.useEffect)(function(){var e=sessionStorage.getItem("token_type"),n=sessionStorage.getItem("id_token"),a={headers:{Authorization:"".concat(e," ").concat(n)}};de.a.get(s+"/res/usr/".concat(t.googleId),a).then(function(e){console.log("RESPONSE RECEIVED: ",e),i(e.data)}).catch(function(e){console.log("AXIOS ERROR: ",e)})},[p]);return null!=r?l.a.createElement("div",{style:{margin:"20px"}},r.map(function(e,n){return l.a.createElement(ve.a,{style:{marginBottom:"20px",maxWidth:"1200px"}},l.a.createElement(ve.a.Header,null,l.a.createElement("b",null,e.nom_uni)," | ",l.a.createElement("u",null,e.id_lab)," ",l.a.createElement("br",null),l.a.createElement("b",null,"Dia:")," ",e.dia," ",l.a.createElement("br",null),l.a.createElement("b",null,"Hora:")," ",e.hora,l.a.createElement("br",null)),l.a.createElement(g.a,null,l.a.createElement(ve.a.Body,null,l.a.createElement(Ee.a,null,l.a.createElement(be.a,{sm:4},l.a.createElement(ve.a.Title,null,e.nom_maq),l.a.createElement(ve.a.Img,{style:{maxWidth:"250px"},variant:"top",src:e.image_url,referrerPolicy:"no-referrer"})),l.a.createElement(be.a,{style:{alignContent:"center",justifyContent:"center",display:"flex",flexDirection:"column"},sm:5},l.a.createElement(Se.a,null,l.a.createElement(_e.a.Control,{style:{margin:"0px 0px 20px 0px"},type:"text",placeholder:"PIN",disabled:!e.pin_actiu,onChange:function(e){v(e.target.value)}})),l.a.createElement(me.a,{onClick:function(){return function(e,n,a,r){if(new RegExp("^[0-9][0-9][0-9][0-9][0-9][0-9]$").test(b)){var o={dia:e,hores:n,id_maq:r,id_token:sessionStorage.getItem("id_token"),pin:b};de.a.post(s+"/res/usr/".concat(t.googleId),o).then(function(e){console.log("RESPONSE RECEIVED: ",e),alert("En breu la reserva s'activar\xe0"),f(!p)}).catch(function(e){e.response&&403===e.response.status&&alert("Pin incorrecte")})}else alert("El pin ha de tenir 6 digits")}(e.dia,e.hora,e.id_usr,e.id_maq)},disabled:!e.pin_actiu,style:{margin:"0px 0px 10px 0px",borderRadius:"20px"},className:"w-100",variant:"primary"},"Activa"),l.a.createElement(me.a,{onClick:function(){return function(e,t,n,a){console.log(e,t,n,a);var r={dia:e,hores:t,id_maq:a,id_token:sessionStorage.getItem("id_token")};de.a.put(s+"/res/usr/".concat(n),r).then(function(e){console.log("RESPONSE RECEIVED: ",e),alert("Reserva cancelada"),f(!p)}).catch(function(e){console.log("AXIOS ERROR: ",e)})}(e.dia,e.hora,e.id_usr,e.id_maq)},style:{margin:"0px 0px 10px 0px",borderRadius:"20px"},className:"w-100",variant:"danger",disabled:e.pin_actiu||e.status},"Cancel\xb7lar"))))))})):l.a.createElement(oe.a,{show:!0,centered:!0},l.a.createElement(oe.a.Header,{closeButton:!0,onHide:function(){return y("/")}},l.a.createElement(oe.a.Title,null,"Ooops!")),l.a.createElement(oe.a.Body,null,"No disposes de cap reserva en aquest moment."),l.a.createElement(oe.a.Footer,null,l.a.createElement(me.a,{onClick:function(){return y("/maquines")},variant:"outline-primary",className:"w-100",style:{borderRadius:"20px"}},"Reservar")))},Ce=n(256),Re=n(245),Le=n(257),Ne=n(258),Ae=function(e){return l.a.createElement("div",{className:"form-group"},l.a.createElement("strong",null,e.nom),l.a.createElement("select",{className:"form-control",name:"{props.nom}",onChange:e.onChange},l.a.createElement("option",{defaultValue:!0},"Select ",e.name),e.options.map(function(e,t){return l.a.createElement("option",{key:t,value:e.id},e.nom)})))},Te=function(e){e.user,e.setAdmin;var t=Object(o.useState)([]),n=Object(u.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)({id:"",nom_complert:"",email:"",role:"",auth:"",nfcid:""}),c=Object(u.a)(i,2),m=c[0],d=c[1],p=Object(o.useState)([]),f=Object(u.a)(p,2),h=f[0],E=f[1],b=Object(o.useState)(!1),v=Object(u.a)(b,2),y=v[0],x=v[1],O=Object(o.useState)(""),w=Object(u.a)(O,2),j=w[0],k=w[1],S=Object(o.useState)(""),_=Object(u.a)(S,2),I=_[0],C=_[1],R=Object(o.useState)(""),L=Object(u.a)(R,2),N=L[0],A=L[1],T=Object(o.useState)(""),z=Object(u.a)(T,2),q=z[0],D=z[1],P=Object(o.useState)(!1),F=Object(u.a)(P,2),B=F[0],H=F[1],U=Object(o.useState)(null),Y=Object(u.a)(U,2),K=Y[0],M=Y[1],G=Object(o.useState)(null),V=Object(u.a)(G,2),X=V[0],W=V[1],$=Object(o.useState)(null),J=Object(u.a)($,2),Q=J[0],Z=J[1],ee=Object(o.useState)(null),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],re=Object(o.useState)(null),le=Object(u.a)(re,2),ie=le[0],ce=le[1],ue=Object(o.useState)([]),se=Object(u.a)(ue,2),pe=se[0],ge=se[1],fe=Object(o.useState)([]),he=Object(u.a)(fe,2),ye=he[0],xe=he[1],Oe=Object(o.useState)(null),we=Object(u.a)(Oe,2),je=we[0],ke=we[1],Ie=Object(o.useState)(null),Te=Object(u.a)(Ie,2),ze=Te[0],qe=Te[1];Object(o.useEffect)(function(){return window.onbeforeunload=function(){return!0},function(){window.onbeforeunload=""}},[]),Object(o.useEffect)(function(){de.a.get(s+"/maq/").then(function(e){E(e.data),console.log(e.data)}).catch(function(e){console.log(e)});var e=setInterval(function(){de.a.get(s+"/maq/").then(function(e){E(e.data),console.log(e.data)}).catch(function(e){console.log(e)})},5e3);return function(){return clearInterval(e)}},[]),Object(o.useEffect)(function(){de.a.get(s+"/uni/").then(function(e){ge(e.data),console.log(e.data)}).catch(function(e){console.log(e)})},[]),Object(o.useEffect)(function(){de.a.get(s+"/lab/".concat(ne)).then(function(e){xe(e.data),console.log(e.data)}).catch(function(e){console.log(e)})},[ne]),Object(o.useEffect)(function(){var e=sessionStorage.getItem("id_token");de.a.get(s+"/usr/?id_token=".concat(e)).then(function(e){console.log(e),r(e.data)}).catch(function(e){console.log(e)})},[B]);var De=function(e,t){var n={secret:"54d23618-9e0b-4574-a3e0-f7c8131d362f",id_maq:e,run:t};de.a.put(s+"/maq/",n).then(function(e){console.log("RESPONSE RECEIVED: ",e),alert("Resposta exitosa")}).catch(function(e){console.log("AXIOS ERROR: ",e)})},Pe=function(e){"auth-1"===e?A(1):"auth-2"===e?A(2):"auth-3"===e&&A(3)};return l.a.createElement(g.a,null,l.a.createElement("div",{className:"modal show",style:{display:"block",position:"initial"}},l.a.createElement(oe.a.Dialog,null,l.a.createElement(oe.a.Header,null,l.a.createElement(oe.a.Title,null,"Nova m\xe0quina")),l.a.createElement(g.a,null,l.a.createElement(Se.a,{style:{margin:"20px 0px 20px 0px"}},l.a.createElement(_e.a.Control,{onChange:function(e){M(e.target.value)},placeholder:"Nom"})),l.a.createElement(Se.a,{style:{margin:"20px 0px 20px 0px"}},l.a.createElement(_e.a.Control,{onChange:function(e){W(e.target.value)},placeholder:"Addre\xe7a (MAC)"})),l.a.createElement(Se.a,{style:{margin:"0px 0px 20px 0px"}},l.a.createElement(_e.a.Control,{onChange:function(e){Z(e.target.value)},placeholder:"Imatge (URL)"}))),l.a.createElement(g.a,null,l.a.createElement(Ae,{options:pe,onChange:function(e){console.log("unis",e.target.value),ae(e.target.value)}})),l.a.createElement(g.a,{style:{margin:"20px 0px 20px 0px"}},l.a.createElement(Ae,{options:ye,onChange:function(e){console.log("labs",e.target.value),ce(e.target.value)}})),l.a.createElement(g.a,{style:{margin:"0px 0px 20px 0px"}},l.a.createElement(Ce.a,{title:"Auth",variant:"outline-primary",onSelect:Pe},l.a.createElement(Re.a.Item,{eventKey:"auth-1"},"1"),l.a.createElement(Re.a.Item,{eventKey:"auth-2"},"2"),l.a.createElement(Re.a.Item,{eventKey:"auth-3"},"3")),!y&&function(){switch(N){case 1:return l.a.createElement(Le.a,{style:{width:"70px",heigth:"20px"},pill:!0,bg:"success"}," ",N," ");case 2:return l.a.createElement(Le.a,{style:{width:"70px",heigth:"20px"},pill:!0,bg:"danger"}," ",N," ");case 3:return l.a.createElement(Le.a,{style:{width:"70px",heigth:"20px"},pill:!0,bg:"primary"}," ",N," ");default:return l.a.createElement(Le.a,{style:{width:"70px",heigth:"20px"},pill:!0,bg:"warning"}," ",N," ")}}()),l.a.createElement(oe.a.Footer,null,l.a.createElement(me.a,{onClick:function(){var e={id_token:sessionStorage.getItem("id_token"),nom_maq:K,url_maq:Q,id_maq:X,id_uni:ne,id_lab:ie,auth:N};de.a.post(s+"/maq/",e).then(function(e){alert("Maquina afegida")}).catch(function(e){console.log("AXIOS ERROR: ",e)})},style:{borderRadius:"20px"},className:"w-100",variant:"primary"},"Afegir")))),l.a.createElement(g.a,null,l.a.createElement("div",{className:"modal show",style:{display:"block",position:"initial"}},l.a.createElement(oe.a.Dialog,null,l.a.createElement(oe.a.Header,null,l.a.createElement(oe.a.Title,null,"Nou ",l.a.createElement("b",null,l.a.createElement("i",null,"TechLab")))),l.a.createElement(g.a,null,l.a.createElement(Se.a,{style:{margin:"20px 0px 20px 0px"}},l.a.createElement(_e.a.Control,{onChange:function(e){ke(e.target.value)},placeholder:"Nom"}))),l.a.createElement(g.a,{style:{margin:"0px 0 20px 0px"}},l.a.createElement(Ae,{options:pe,onChange:function(e){console.log("unis",e.target.value),qe(e.target.value)}})),l.a.createElement(oe.a.Footer,null,l.a.createElement(me.a,{onClick:function(){var e=sessionStorage.getItem("id_token");console.log("holalkdsjkdl",je,ze);var t={id_token:e,id_lab:je};de.a.post(s+"/lab/".concat(ze),t).then(function(e){alert("TechLab afegit")}).catch(function(e){console.log("AXIOS ERROR: ",e)})},style:{borderRadius:"20px"},className:"w-100",variant:"primary"},"Afegir"))))),l.a.createElement(g.a,null,l.a.createElement(_e.a,{style:{margin:"20px 0px 20px 0px"}},l.a.createElement(Se.a,null,l.a.createElement(_e.a.Control,{onChange:function(e){k(e.target.value)},placeholder:"Buscar"}))),l.a.createElement(Ne.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null,"Nom"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Rol"),l.a.createElement("th",null,"Auth"),l.a.createElement("th",null,"NFC_ID"))),l.a.createElement("tbody",null,a.filter(function(e){return""===j.toLowerCase()?e:e.nom_complert.toLowerCase().includes(j.toLocaleLowerCase())}).map(function(e,t){return l.a.createElement("tr",{key:e.id,onClick:function(t){!function(e){x(!0),A(e.auth),D(e.nfcid),d({id:e.id,nom:e.nom_complert,email:e.email,role:e.role,auth:e.auth,nfcid:e.nfcid})}(e)}},l.a.createElement("th",{scope:"row"},t),l.a.createElement("td",null,e.nom_complert),l.a.createElement("td",null,e.email),l.a.createElement("td",null,e.role),l.a.createElement("td",null,e.auth),l.a.createElement("td",null,e.nfcid))}))),y&&l.a.createElement(oe.a,{show:!0,onHide:function(){A(void 0),x(!1)},centered:!0},l.a.createElement(oe.a.Header,{closeButton:!0},l.a.createElement(oe.a.Title,null,m.nom)),l.a.createElement(oe.a.Body,null,l.a.createElement(g.a,{style:{display:"flex",flexDirection:"row",alignItems:"center",columnGap:"20px"}},l.a.createElement(Ce.a,{title:"Auth",variant:"outline-primary",onSelect:Pe},l.a.createElement(Re.a.Item,{eventKey:"auth-1"},"1"),l.a.createElement(Re.a.Item,{eventKey:"auth-2"},"2"),l.a.createElement(Re.a.Item,{eventKey:"auth-3"},"3")),function(){switch(N){case 1:return l.a.createElement(Le.a,{style:{width:"70px",heigth:"20px"},pill:!0,bg:"success"}," ",N," ");case 2:return l.a.createElement(Le.a,{style:{width:"70px",heigth:"20px"},pill:!0,bg:"danger"}," ",N," ");case 3:return l.a.createElement(Le.a,{style:{width:"70px",heigth:"20px"},pill:!0,bg:"primary"}," ",N," ");default:return l.a.createElement(Le.a,{style:{width:"70px",heigth:"20px"},pill:!0,bg:"warning"}," ",N," ")}}()),l.a.createElement(Se.a,{style:{margin:"20px 0px 20px 0px"}},l.a.createElement(_e.a.Control,{onChange:function(e){D(e.target.value)},placeholder:"NFC_ID"}))),l.a.createElement(oe.a.Footer,null,l.a.createElement(me.a,{className:"rounded-pill w-100",variant:"primary",onClick:function(){var e=new RegExp("^$|[a-z0-9][a-z0-9][:][a-z0-9][a-z0-9]:[a-z0-9][a-z0-9][:][a-z0-9][a-z0-9]$");if(q)if(e.test(q)){var t={id_token:sessionStorage.getItem("id_token"),id_usr:m.id,auth:N,nfc_id:q};de.a.put(s+"/usr/",t).then(function(e){console.log("RESPONSE RECEIVED: ",e),x(!1),alert("Usuari actualitzat"),H(!B)}).catch(function(e){console.log("AXIOS ERROR: ",e)})}else alert("Format incorrecte");else{var n={id_token:sessionStorage.getItem("id_token"),id_usr:m.id,auth:N};de.a.put(s+"/usr/",n).then(function(e){console.log("RESPONSE RECEIVED: ",e),x(!1),alert("Usuari actualitzat"),H(!B)}).catch(function(e){console.log("AXIOS ERROR: ",e)})}}},"Modificar")))),l.a.createElement(g.a,{style:{marginBottom:"20px"}},l.a.createElement(_e.a,null,l.a.createElement(Se.a,null,l.a.createElement(_e.a.Control,{onChange:function(e){C(e.target.value)},placeholder:"Buscar"}))),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center"}},l.a.createElement(Ee.a,{xs:1,md:4,className:"g-8"},h.filter(function(e){return""===I.toLowerCase()?e:e.nom_uni.toLowerCase().includes(I.toLocaleLowerCase())}).map(function(e,t){return l.a.createElement(be.a,null,l.a.createElement(ve.a,{style:{marginTop:"20px"}},l.a.createElement(ve.a.Body,{style:{alignItems:"center"}},l.a.createElement(ve.a.Img,{style:{maxWidth:"250px"},variant:"top",src:e.image_url,referrerPolicy:"no-referrer"}),l.a.createElement(ve.a.Title,null,e.nom),l.a.createElement(ve.a.Text,null,e.id_lab," ",l.a.createElement("br",null),l.a.createElement("b",null,l.a.createElement("i",null,"Auth:"))," ",e.auth_min," ",l.a.createElement("br",null),l.a.createElement("b",null,l.a.createElement("i",null,"Corrent:"))," ",e.corrent),l.a.createElement(me.a,{onClick:function(){return De(e.id,!0)},style:{marginBottom:"10px"},className:"rounded-pill w-100",variant:"primary",id:e.id,value:e.nom},"Activar"),l.a.createElement(me.a,{onClick:function(){return De(e.id,!1)},className:"rounded-pill w-100",variant:"danger",id:e.id,value:e.nom},"Desactivar")),l.a.createElement(ve.a.Footer,null,e.status?l.a.createElement(Le.a,{style:{width:"100px",heigth:"20px"},pill:!0,bg:"primary"}," ","Ok"," "):l.a.createElement(Le.a,{style:{width:"100px",heigth:"20px"},pill:!0,bg:"warning"}," ","Unreachable"," "),l.a.createElement("br",null),e.run?l.a.createElement(Le.a,{style:{width:"100px",heigth:"20px"},pill:!0,bg:"success"}," ","Running"," "):l.a.createElement(Le.a,{style:{width:"100px",heigth:"20px"},pill:!0,bg:"danger"}," ","Stopped"," "))))})))))};function ze(){var e=Object(o.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(null),i=Object(u.a)(r,2),c=i[0],p=i[1],g=Object(o.useState)(null),f=Object(u.a)(g,2),h=f[0],b=f[1];return Object(o.useEffect)(function(){if(h){var e=sessionStorage.getItem("id_token");de.a.get(s+"/usr/?id_usr=".concat(h.googleId,"&id_token=").concat(e)).then(function(e){console.log("uasuariiiiiii",e.data),a("admin"===e.data.role),p(e.data.auth)}).catch(function(e){console.log(e)})}},[h]),l.a.createElement(m.a,null,l.a.createElement(d.d,null,l.a.createElement(d.b,{path:"/",element:l.a.createElement(E,{user:h,admin:n})},l.a.createElement(d.b,{index:!0,element:l.a.createElement(re,null)}),h&&l.a.createElement(d.b,{path:"reserves",element:l.a.createElement(Ie,{user:h})}),l.a.createElement(d.b,{path:"maquines",element:l.a.createElement(je,{user:h,auth:c})}),l.a.createElement(d.b,{path:"admin",element:l.a.createElement(Te,{user:h,setAdmin:a})}),l.a.createElement(d.b,{path:"perfil",element:l.a.createElement(fe,{user:h,handleSetUser:function(e){console.log("[handleSetUser] User set to:",e),b(e)},handleSetAdmin:a,handleSetAuth:p})}),l.a.createElement(d.b,{path:"*",element:l.a.createElement(ke,null)}))))}n(236),n(238);c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ze,null)))}},[[174,2,1]]]);
//# sourceMappingURL=main.2a6868aa.chunk.js.map